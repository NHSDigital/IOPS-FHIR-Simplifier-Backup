## {{page-title}}

The Genomics Composition is currently pending Clinical and Technical Assurance of the base UKCore resource. Once this profile becomes active in UKCore its suitability for use and need for profiling within Genomics will be assessed. 

The profile for the UKCore-Bundle is provided below for completeness.

Compositions within Genomics will be limited to documents generated by the central broker for capturing snapshots of Test orders and results in order to maintain historical accuracy, as per the {{pagelink:document}} OperationDefinition. These will typically form the first entry of a Document Bundle and as such will not be exposed via their own endpoint, nor allow creates,reads or updates from client systems on the resource itself.

**Usage of the Compostion resource and generation of documents is pending internal review**

| Profile url | FHIR Module | Normative Status |
|--|
| [http://hl7.org/fhir/StructureDefinition/Composition](https://simplifier.net/resolve?target=simplifier&canonical=http://hl7.org/fhir/StructureDefinition/Composition&scope=hl7.fhir.r4.core@4.0.1) | [HL7 International]() | trial-use |

<br>

<br>

<div class="nhsd-!t-margin-bottom-6">
    <ul class="nav nav-tabs" role="tablist">
        <li role="presentation" class="active">
            <a href="#Profile" role="tab" data-toggle="tab">Profile</a>
        </li>
        <li role="presentation">
            <a href="#Differential" role="tab" data-toggle="tab">Differential</a>
        </li>
        <li role="presentation">
            <a href="#Constraints" role="tab" data-toggle="tab">Constraints</a>
        </li>
        <li role="presentation">
            <a href="#Examples" role="tab" data-toggle="tab">Examples</a>
        </li>
        <li role="presentation">
            <a href="#Mappings" role="tab" data-toggle="tab">Mappings</a>
        </li>
    </ul>
    <div class="tab-content snippet">
        <div id="Profile" role="tabpanel" class="tab-pane active">
            <br />
            {{tree: http://hl7.org/fhir/StructureDefinition/Composition, snapshot}}
        </div>
        <div id="Differential" role="tabpanel" class="tab-pane">
         <br />
         Differential from {{link:http://hl7.org/fhir/StructureDefinition/Composition}} <br>
            <br />
            {{tree:http://hl7.org/fhir/StructureDefinition/Composition, diff}}
        </div>
        <div id="Dictionary" role="tabpanel" class="tab-pane">
            <br />
            {{dict:http://hl7.org/fhir/StructureDefinition/Composition, hybrid}}
        </div>
        <div id="Examples" role="tabpanel" class="tab-pane">
            <br />
            <table>
                <tr>
                    <td>
                    </td>
                </tr>
            </table>
        </div>
        <div id="Constraints" role="tabpanel" class="tab-pane">
            <br />
            @```
            from StructureDefinition
            where url=':http://hl7.org/fhir/StructureDefinition/Composition'
            for differential.element.constraint
            select key, human, severity, expression
            ```
        </div>
        <div id="Mappings" role="tabpanel" class="tab-pane">
            <br />
                <table class="assets">
                    <tr><th>FHIR</th><th>MDS</th><th>HL7v2</th></tr>
                    <tr><td></td><td></td><td></td></tr>
                </table>
        </div>
    </div>
</div>

<br>

### Additional Guidance

- <a href="#status">status</a>
- <a href="#type">type</a>
- <a href="#subject">subject</a>
- <a href="#date">date</a>
- <a href="#author">author</a>
- <a href="#title">title</a>
- <a href="#section">section</a>

<a name="status"></a>
#### status
Fixed value of 'final'
```json
"status": "final",
```

<a name="type"></a>
#### type
SNOMED CT code for either a Laboratory Request (24691000000102) or Genetic report (1054161000000101)
```json
"type": {
    "coding": [
        {
            "system": "http://snomed.info/sct",
            "code": "1054161000000101",
            "display": "Genetic report (record artifact)"
        }
    ]
},
```

<a name="subject"></a>
#### subject
Matches subject reference included in either the DiagnosticReport or ServiceRequest
```json
"subject": {
        "identifier": {
            "system": "https://fhir.nhs.uk/Id/nhs-number",
            "value": "9999999999"
        }
    },
```

<a name="date"></a>
#### date
SHALL be the dateTime the Composition was generated by the central broker
```json
"date": "2022-07-11T09:00:00Z",
```

<a name="author"></a>
#### author
Fixed to an identifier for the central broker (TBC). The author for the underlying ServiceRequest or DiagnosticReport can be retrieved by interrogating the appropriate resources.
```json
"author": [
    {
        "identifier": {
            "system": "https://fhir.nhs.uk/Id/spine-ASID",
            "value": "200000000215"
        }
    }
],
```

<a name="title"></a>
#### title
SHALL match the SNOMED CT display used within Composition.type
```json
"status": "Genetic report (record artifact)",
```

<a name="section"></a>
#### section
SHALL only include the ServiceRequest or DiagnsoticReport forming the base of a GraphDefinition.
```json
"section": [
    {
        "mode": "snapshot",
        "entry": [
            {
                "reference": "DiagnosticReport/DiagnosticReport-AnitaLamberts-Example"
            }
        ]
    }
]
```