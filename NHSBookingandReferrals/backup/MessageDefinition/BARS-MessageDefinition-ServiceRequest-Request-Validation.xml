<MessageDefinition xmlns="http://hl7.org/fhir">
  <id value="7731af63-04ed-47d9-8f05-e510dece3b3f" />
  <url value="https://fhir.nhs.uk/MessageDefinition/bars-message-servicerequest-request-validation" />
  <name value="BARS Message Definition ServiceRequest - Request Validation" />
  <title value="BARS Message Definition ServiceRequest - Request Validation" />
  <status value="active" />
  <date value="2021-12-08" />
  <version value="1.1.0" />
  <eventCoding>
    <system value="https://fhir.nhs.uk/CodeSystem/message-events-bars" />
    <code value="servicerequest-request" />
  </eventCoding>
  <useContext>
    <!-- We are expecting the UseContext to be a DOS ID -->
    <code>
      <system value="https://fhir.nhs.uk/CodeSystem/dos-id" />
      <code value="dos-id" />
    </code>
    <valueCodeableConcept>
      <coding>
        <system value="http://terminology.hl7.org/CodeSystem/variant-state" />
        <code value="positive" />
      </coding>
    </valueCodeableConcept>
  </useContext>
  <focus>
    <code value="Bundle" />
    <profile value="https://fhir.nhs.uk/StructureDefinition/BARSBundleMessage" />
    <min value="1" />
    <max value="1" />
  </focus>
  <focus>
    <code value="MessageHeader" />
    <profile value="https://fhir.nhs.uk/StructureDefinition/BARSMessageHeader-servicerequest-request" />
    <min value="1" />
    <max value="1" />
  </focus>
  <focus>
    <code value="ServiceRequest" />
    <profile value="https://fhir.nhs.uk/StructureDefinition/BARSServiceRequest-request-validation" />
    <min value="1" />
    <max value="1" />
  </focus>
  <focus>
    <code value="Patient" />
    <profile value="https://fhir.hl7.org.uk/StructureDefinition/UKCore-Patient" />
    <min value="1" />
    <max value="1" />
  </focus>
  <focus>
    <code value="Encounter" />
    <profile value="https://fhir.hl7.org.uk/StructureDefinition/UKCore-Encounter" />
    <min value="1" />
    <max value="1" />
  </focus>
  <focus>
    <code value="CarePlan" />
    <profile value="https://fhir.hl7.org.uk/StructureDefinition/UKCore-CarePlan" />
    <min value="1" />
    <max value="1" />
  </focus>
  <focus>
    <code value="Location" />
    <profile value="https://fhir.hl7.org.uk/StructureDefinition/UKCore-Location" />
    <min value="1" />
    <max value="1" />
  </focus>
  <focus>
    <code value="Organization" />
    <profile value="https://fhir.hl7.org.uk/StructureDefinition/UKCore-Organization" />
    <min value="2" />
    <max value="*" />
  </focus>
  <focus>
    <code value="Practitioner" />
    <profile value="https://fhir.hl7.org.uk/StructureDefinition/UKCore-Practitioner" />
    <min value="1" />
    <max value="*" />
  </focus>
  <focus>
    <code value="PractitionerRole" />
    <profile value="https://fhir.hl7.org.uk/StructureDefinition/UKCore-PractitionerRole" />
    <min value="1" />
    <max value="*" />
  </focus>
  <focus>
    <code value="Observation" />
    <profile value="https://fhir.hl7.org.uk/StructureDefinition/UKCore-Observation" />
    <min value="0" />
    <max value="*" />
  </focus>
  <focus>
    <code value="Flag" />
    <profile value="https://fhir.nhs.uk/StructureDefinition/BARSFlag-scene-safety" />
    <min value="1" />
    <max value="*" />
  </focus>
  <focus>
    <code value="Flag" />
    <profile value="http://hl7.org/fhir/StructureDefinition/Flag" />
    <min value="0" />
    <max value="*" />
  </focus>
  <focus>
    <code value="Consent" />
    <profile value="https://fhir.hl7.org.uk/StructureDefinition/UKCore-Consent" />
    <min value="1" />
    <max value="*" />
  </focus>
  <focus>
    <code value="MedicationStatement" />
    <profile value="https://fhir.hl7.org.uk/StructureDefinition/UKCore-MedicationStatement" />
    <min value="0" />
    <max value="*" />
  </focus>
  <focus>
    <code value="AllergyIntolerance" />
    <profile value="https://fhir.hl7.org.uk/StructureDefinition/UKCore-AllergyIntolerance" />
    <min value="0" />
    <max value="*" />
  </focus>
  <focus>
    <code value="HealthcareService" />
    <profile value="https://fhir.hl7.org.uk/StructureDefinition/UKCore-HealthcareService" />
    <min value="1" />
    <max value="1" />
  </focus>
</MessageDefinition>