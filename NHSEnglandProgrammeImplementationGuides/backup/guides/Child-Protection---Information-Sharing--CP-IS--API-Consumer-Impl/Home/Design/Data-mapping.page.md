## {{page-title}}

A mapping from the HL7v3 Child Protection Domain Message Specification data elements to target FHIR resource elements`.   
<br>

**QUPC_MT000006GB01 Child Protection Information Sharing NHS Query**  

A query message sent from Scheduled or Unscheduled Care Setting systems to the CP-IS Service requesting child protection status information.

The query is run either by a healthcare practitioner or by a device in order to obtain any care plans which exist for a person using their NHS number as the parameter.   


| Source data item                       | Cardinality | Obtained from                                                                                                                                 | Notes                                                                                                                                                                                                                                                                                                                                                                                                      |
|----------------------------------------|-------------|-----------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Query data items**                   |             |                                                                                                                                               |                                                                                                                                                                                                                                                                                                                                                                                                            |
| Effective time                         | 1..1        | Obtained from the JSON Web Token (JWT) iat claim - the UTC time the JWT was created by the requesting system.                                 | Header dateTime (the date and time that the request was generated).                                                                                                                                                                                                                                                                                                                                        |
| **Author choice**                      | 1..1        |                                                                                                                                               | The CP-IS query can be executed by either a device or a person, but one of these must be present.                                                                                                                                                                                                                                                                                                          |
| *If an Author Device*                  |             | If a device is the query author, then all device-related elements are mandatory, but if a person is the query author, they are not populated. |                                                                                                                                                                                                                                                                                                                                                                                                            |
| Identifier                             | 1..1        | ASID either obtained from the JWT requesting_system claim or from Spine using an ODS code and interaction id.                                 | The identifier of the device.                                                                                                                                                                                                                                                                                                                                                                              |
| Organisation identifier                | 1..1        | ODS organisation or site code obtained from the JWT requesting_organization claim.                                                            | The ODS organisation or site code of the organisation which is responsible for the device.                                                                                                                                                                                                                                                                                                                 |
| Organisation name                      | 1..1        | Obtained from SPINE using the ODS code obtained from the JWT 'requesting_organization' claim or from an input parameter.                      | The name of the organisation which is responsible for the device. This element may also carry the physical location of the patient, if access to CP-IS information is via a distributed system e.g. the 111 Service.                                                                                                                                                                                       |
| *Indirect authority*                   | 1..*        |                                                                                                                                               |                                                                                                                                                                                                                                                                                                                                                                                                            |
| Job role code (person responsible)     | 1..1        | This is supplied by the organisation designated as responsible for the device.                                                                | The job role code of the person nominated to be responsible for the CP-IS queries.                                                                                                                                                                                                                                                                                                                         |
| Job role name (person responsible)     | 1..1        | This is supplied by the organisation designated as responsible for the device.                                                                | The job role name of the person nominated to be responsible for the CP-IS queries. This may alternatively carry the job role code, name and telephone number of the nominated Safeguarding Lead who is in the same geographical/physical location as the patient, if access to CP-IS information is via a distributed system e.g. the 111 Service.                                                         |
| *Name of the person responsible*       |             | This is supplied by the organisation designated as responsible for the device.                                                                | The name of the person nominated to be responsible for the CP-IS queries. This must be sent in the NHS query.                                                                                                                                                                                                                                                                                              |
| Family name                            | 1..1        | This is supplied by the organisation designated as responsible for the device.                                                                | The family name of the person nominated to be responsible for the CP-IS queries.                                                                                                                                                                                                                                                                                                                           |
| Given name                             | 1..*        | This is supplied by the organisation designated as responsible for the device.                                                                | The given name of the person nominated to be responsible for the CP-IS queries.                                                                                                                                                                                                                                                                                                                            |
| Prefix                                 | 1..1        | This is supplied by the organisation designated as responsible for the device.                                                                | The prefix for the name of the person nominated to be responsible for the CP-IS queries.                                                                                                                                                                                                                                                                                                                   |
| Suffix                                 | 0..1        | This is supplied by the organisation designated as responsible for the device.                                                                | The suffix for the name of the person nominated to be responsible for the CP-IS queries.                                                                                                                                                                                                                                                                                                                   |
| Use                                    | 0..1        | This is supplied by the organisation designated as responsible for the device.                                                                | Identifies the purpose of the name and allows the appropriate name for a particular context of use to be selected from among a set of names.<br>CP-IS allows the use values of <code>L</code> (Legal) and <code>PREFERRED</code> (Preferred) to be exchanged and these are mapped to FHIR R4 values in the [name-use-v3-npfit ConceptMap](https://simplifier.net/guide/NHSDigital/name-use-v3-npfit). |
| ValidTime.start                        | 0..1        | This is supplied by the organisation designated as responsible for the device.                                                                | The start time of the period in time when the name details were known to be valid.                                                                                                                                                                                                                                                                                                                         |
| ValidTime.end                          | 0..1        | This is supplied by the organisation designated as responsible for the device.                                                                | The end time of the period in time when the name details were known to be valid.                                                                                                                                                                                                                                                                                                                           |
| *If an Author person*                  |             |                                                                                                                                               | If a person is the query author, then all person-related elements are mandatory, but if a device is the query author, they are not populated.                                                                                                                                                                                                                                                              |
| Job role code (person responsible)     | 1..1        | Obtained from SPINE using the data in the JWT requesting_user claim.                                                                          | The job role code of the person executing the CP-IS query.                                                                                                                                                                                                                                                                                                                                                 |
| Job role name (person responsible)     | 1..1        | Obtained from SPINE using the data in the JWT requesting_user claim.                                                                          | The job role name of the person executing the CP-IS query.                                                                                                                                                                                                                                                                                                                                                 |
| *Identifier*                           | 1..2        |                                                                                                                                               | The identifier(s) of the person responsible.                                                                                                                                                                                                                                                                                                                                                               |
| SDS user ID                            | 1..1        | Obtained from SPINE using the data in the JWT requesting_user claim.                                                                          | The SDS User ID of the person executing the CP-IS query.                                                                                                                                                                                                                                                                                                                                                   |
| SDS role profile ID                    | 0..1        | Obtained from SPINE using the data in the JWT requesting_user claim.                                                                          | The SDS role profile ID of the person executing the CP-IS query.                                                                                                                                                                                                                                                                                                                                           |
| *Name of the person responsible*       |             |                                                                                                                                               | The name of the person executing the CP-IS query.                                                                                                                                                                                                                                                                                                                                                          |
| Family name                            | 1..1        | Obtained from SPINE using the data in the JWT requesting_user claim.                                                                          | The family name of the person executing the CP-IS query.                                                                                                                                                                                                                                                                                                                                                   |
| Given name                             | 1..*        | Obtained from SPINE using the data in the JWT requesting_user claim.                                                                          | The given name(s) of the person executing the CP-IS query.                                                                                                                                                                                                                                                                                                                                                 |
| Prefix                                 | 1..1        | Obtained from SPINE using the data in the JWT requesting_user claim.                                                                          | The prefix for the name of the person executing the CP-IS query.                                                                                                                                                                                                                                                                                                                                           |
| Suffix                                 | 0..1        | Obtained from SPINE using the data in the JWT requesting_user claim.                                                                          | Any suffix for the name of the person executing the CP-IS query.                                                                                                                                                                                                                                                                                                                                           |
| Use                                    | 0..1        | Obtained from SPINE using the data in the JWT requesting_user claim.                                                                          | Identifies the purpose of the name and allows the appropriate name for a particular context of use to be selected from among a set of names. CP-IS allows the use values of <code>L</code> (Legal) and <code>PREFERRED</code> (Preferred) to be exchanged and these are mapped to FHIR R4 values in the [name-use-v3-npfit ConceptMap](https://simplifier.net/guide/NHSDigital/name-use-v3-npfit).    |
| ValidTime.start                        | 0..1        | Obtained from SPINE using the data in the JWT requesting_user claim.                                                                          | The start time of the point in time when the name details were known to be valid.                                                                                                                                                                                                                                                                                                                          |
| ValidTime.end                          | 0..1        | Obtained from SPINE using the data in the JWT requesting_user claim.                                                                          | The end time of the point in time when the name details were known to be valid.                                                                                                                                                                                                                                                                                                                            |
| Organisation identifier                | 1..1        | Obtained from the JWT requesting_organization claim.                                                                                          | The ODS organisation or site code of the organisation represented by the person executing the CP-IS query.                                                                                                                                                                                                                                                                                                 |
| Organisation name                      | 1..1        | Obtained from SPINE using the data in the JWT requesting_organization claim.                                                                  | The name of the organisation represented by the person executing the CP-IS query.                                                                                                                                                                                                                                                                                                                          |
| **Patient data - the query parameter** | 1..1        | The NHS number parameter                                                                                                                      | The NHS number of the individual for whom Care plan information is requested.                                                                                                                                                                                                                                                                                                                              |


<br>

** REPC_MT000007GB01 Child Protection Information Standard NHS Query Response**  

A query response message sent from the CP-IS Service to the querying Scheduled or Unscheduled Care Setting system, returning child protection status information.

The NHS Query response returns the Care plan details for a requested NHS number plus the previous query list for that NHS number, the latter showing the requester which practitioner or organisation has requested Care plan details for that person in the past.  

| Source data item                                                      | Cardinality | Obtained from                                                                                                       | Notes                                                                                                                                                                                                                                                                                                                                                                                                      |
|-----------------------------------------------------------------------|-------------|---------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Query results aggregation**                                         |             |                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                            |
| Effective time                                                        | 1..1        | UK Core Bundle.timestamp                                                                                            | The time that the query results were assembled.                                                                                                                                                                                                                                                                                                                                                            |
| Total returned records                                                | 1..1        | UK Core List.Extension-CPIS-TotalRecords                                                                            | Data aggregated from the UK Core AuditEvent profile.                                                                                                                                                                                                                                                                                                                                                       |
| Total returned plans                                                  | 1..1        | UK Core List.Extension-CPIS-TotalCarePlans                                                                          | Data aggregated from the UK Core CarePlan profile.                                                                                                                                                                                                                                                                                                                                                         |
| **Previous querylist for NHS number**                                 | 1..*        |                                                                                                                     | Previous time(s) the plan(s) for this NHS number was/were accessed.                                                                                                                                                                                                                                                                                                                                        |
| Effective time                                                        | 1..1        | UK Core AuditEvent.recorded                                                                                         | The date and time when the event was recorded.                                                                                                                                                                                                                                                                                                                                                             |
| NHS number                                                            | 1..1        | UK Core Patient.identifier:nhsNumber.value                                                                          | The NHS number of the subject of the query response.                                                                                                                                                                                                                                                                                                                                                       |
| **Author choice**                                                     | 1..1        |                                                                                                                     | The details of the person or device previously accessing this NHS number.<br>If a device is the query author, then device-related elements are populated, but if a person is the query author, they are not populated.                                                                                                                                                                                     |
| *If an Author device*                                                 |             |                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                            |
| Identifier                                                            | 1..1        | UK Core AuditEvent.agent.who (UK Core Device).identifier.value                                                      | The identifier of the device.                                                                                                                                                                                                                                                                                                                                                                              |
| Organisation identifier                                               | 1..1        | UK Core Device.owner.identifier.value                                                                               | The ODS organisation or site code of the organisation responsible for the device.                                                                                                                                                                                                                                                                                                                          |
| Organisation name                                                     | 1..1        | UK Core Device.owner.display                                                                                        | The name of the organisation responsible for the device. This element may also carry the physical location of the patient, if access to CP-IS information is via a distributed system e.g. the 111 Service.                                                                                                                                                                                                |
| *Indirect authority*                                                  | 0..*        |                                                                                                                     | The roles assigned to the device.                                                                                                                                                                                                                                                                                                                                                                          |
| Job role code (person responsible)                                    | 1..1        | UK Core Device.Extension-CPIS-AssignedEntity (UK Core PractitionerRole).code:sdsJobRoleName.coding.code             | The job role code of the person assigned to the device. This element may also carry the job role code, name and telephone number of the nominated Safeguarding Lead who is in the same geographical/physical location as the patient, if access to CP-IS information is via a distributed system e.g. the 111 Service.                                                                                     |
| Job role name (person responsible)                                    | 1..1        | UK Core Device.Extension-CPIS-AssignedEntity (UK Core PractitionerRole).code:sdsJobRoleName.coding.display          | The job role name of the person assigned to the device.                                                                                                                                                                                                                                                                                                                                                    |
| *Name of the person responsible*                                      |             |                                                                                                                     | The name of the person assigned to the device.                                                                                                                                                                                                                                                                                                                                                             |
| Family name                                                           | 1..1        | UK Core Practitioner.name.family                                                                                    | The family name of the person assigned to the device.                                                                                                                                                                                                                                                                                                                                                      |
| Given name                                                            | 1..*        | UK Core Practitioner.name.given                                                                                     | The given name of the person assigned to the device.                                                                                                                                                                                                                                                                                                                                                       |
| Prefix                                                                | 1..1        | UK Core Practitioner.name.prefix                                                                                    | The prefix for the name of the person assigned to the device.                                                                                                                                                                                                                                                                                                                                              |
| Suffix                                                                | 0..1        | UK Core Practitioner.name.suffix                                                                                    | The suffix for the name of the person assigned to the device.                                                                                                                                                                                                                                                                                                                                              |
| Use                                                                   | 0..1        | UK Core Practitioner.name.use                                                                                       | Identifies the purpose of the name and allows the appropriate name for a particular context of use to be selected from among a set of names.<br>CP-IS allows the use values of <code>L</code> (Legal) and <code>PREFERRED</code> (Preferred) to be exchanged and these are mapped to FHIR R4 values in the [name-use-v3-npfit ConceptMap](https://simplifier.net/guide/NHSDigital/name-use-v3-npfit). |
| ValidTime.start                                                       | 0..1        | UK Core Practitioner.name.period.start                                                                              | The start time of the period in time when the name details were known to be valid.                                                                                                                                                                                                                                                                                                                         |
| ValidTime.end                                                         | 0..1        | UK Core Practitioner.name.period.end                                                                                | The end time of the period in time when the name details were known to be valid.                                                                                                                                                                                                                                                                                                                           |
| *If an Author person*                                                 |             | UK Core AuditEvent.agent.who (UK Core PractitionerRole)                                                             | If a person is the query author, then all person-related elements are mandatory, but if a device is the query author, they are not populated.                                                                                                                                                                                                                                                              |
| Job role code                                                         | 1..1        | UK Core PractitionerRole.code:sdsJobRoleName.coding.code                                                            | The job role code of the author person.                                                                                                                                                                                                                                                                                                                                                                    |
| Job role name                                                         | 1..1        | UK Core PractitionerRole.code:sdsJobRoleName.coding.display                                                         | The Job role name of the author person.                                                                                                                                                                                                                                                                                                                                                                    |
| *Identifier*                                                          | 1..2        |                                                                                                                     | The identifier(s) of the author person.                                                                                                                                                                                                                                                                                                                                                                    |
| SDS user ID                                                           | 1..1        | UK Core Practitioner.identifier:sdsUserID.value                                                                     | The SDS User ID of the author person.                                                                                                                                                                                                                                                                                                                                                                      |
| SDS role profile ID                                                   | 0..1        | UK Core PractitionerRole.identifier:sdsRoleProfileID.value                                                          | The SDS role profile ID of the author person.                                                                                                                                                                                                                                                                                                                                                              |
| *Name of the author person*                                           |             |                                                                                                                     | The name of the author person.                                                                                                                                                                                                                                                                                                                                                                             |
| Family name                                                           | 1..1        | UK Core Practitioner.name.family                                                                                    | The family name of the author person.                                                                                                                                                                                                                                                                                                                                                                      |
| Given name                                                            | 1..*        | UK Core Practitioner.name.given                                                                                     | The given name(s) of the author person.                                                                                                                                                                                                                                                                                                                                                                    |
| Prefix                                                                | 1..1        | UK Core Practitioner.name.prefix                                                                                    | The prefix for the name of the author person.                                                                                                                                                                                                                                                                                                                                                              |
| Suffix                                                                | 0..1        | UK Core Practitioner.name.suffix                                                                                    | Any suffix for the name of the author person.                                                                                                                                                                                                                                                                                                                                                              |
| Use                                                                   | 0..1        | UK Core Practitioner.name.use                                                                                       | Identifies the purpose of the name and allows the appropriate name for a particular context of use to be selected from among a set of names. CP-IS allows the use values of <code>L</code> (Legal) and <code>PREFERRED</code> (Preferred) to be exchanged and these are mapped to FHIR R4 values in the [name-use-v3-npfit ConceptMap](https://simplifier.net/guide/NHSDigital/name-use-v3-npfit).    |
| ValidTime.start                                                       | 0..1        | UK Core Practitioner.name.period.start                                                                              | The start time of the point in time when the name details were known to be valid.                                                                                                                                                                                                                                                                                                                          |
| ValidTime.end                                                         | 0..1        | UK Core Practitioner.name.period.end                                                                                | The end time of the point in time when the name details were known to be valid.                                                                                                                                                                                                                                                                                                                            |
| Organisation identifier                                               | 1..1        | Organization.identifier:odsOrganisationCode.value or Organization.identifier:odsSiteCode.value                      | The ODS organisation or site code of the organisation represented by the author person.                                                                                                                                                                                                                                                                                                                    |
| Organisation name                                                     | 1..1        | Organization.name                                                                                                   | The name of the organisation represented by the author person.                                                                                                                                                                                                                                                                                                                                             |
| **Records (care plans that have been submitted for this NHS Number)** | 1..*        |                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                            |
| *Record submitter*                                                    |             |                                                                                                                     | Local Authority submitting the care plan(s).                                                                                                                                                                                                                                                                                                                                                               |
| Organisation identifier                                               | 1..1        | UK Core CarePlan.author (UK Core Organization).identifier:odsOrganisationCode.value or identifier:odsSiteCode.value | The ODS organisation or site code of the organisation which submitted the care plan.                                                                                                                                                                                                                                                                                                                       |
| Organisation name                                                     | 1..1        | UK Core CarePlan.author (UK Core Organization).name                                                                 | The name of the organisation which submitted the care plan.                                                                                                                                                                                                                                                                                                                                                |
| **Organisation contact details**                                      | 1..2        |                                                                                                                     | The contact details of the submitting organisation.                                                                                                                                                                                                                                                                                                                                                        |
| Organisation telephone number (Emergency contact)                     | 1..1        | UK Core CarePlan.author (UK Core Organization).telecom.value                                                        | The emergency telephone number of the submitting organisation.                                                                                                                                                                                                                                                                                                                                             |
| Organisation telephone number use                                     | 1..1        | UK Core CarePlan.author (UK Core Organization).contact.purpose.coding.code                                          | The purpose of this telephone number, given so a user can choose which number is appropriate for their purpose. This is an emergency contact number and is mandatory.                                                                                                                                                                                                                                      |
| Organisation telephone number (Work place contact)                    | 0..1        | UK Core CarePlan.author (UK Core Organization).telecom.value                                                        | The work place telephone number of the submitting organisation.                                                                                                                                                                                                                                                                                                                                            |
| Organisation telephone number use                                     | 0..1        | UK Core CarePlan.author (UK Core Organization).contact.purpose.coding.code                                          | The purpose of this telephone number, given so a user can choose which number is appropriate for their purpose. This is a work place contact number and is optional.                                                                                                                                                                                                                                       |
| **Plan details**                                                      |             |                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                            |
| *Person*                                                              |             |                                                                                                                     | This is the subject of the query response.                                                                                                                                                                                                                                                                                                                                                                 |
| NHS number                                                            | 1..1        | UK Core Patient.identifier:nhsNumber                                                                                | The NHS number of the subject of the query response.                                                                                                                                                                                                                                                                                                                                                       |
| Local identifier                                                      | 0..1        | UK Core Patient.identifier                                                                                          | The local identifier of the subject of the query response.                                                                                                                                                                                                                                                                                                                                                 |
| *Name*                                                                |             |                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                            |
| Family name                                                           | 1..1        | UK Core Patient.name.family                                                                                         | The subject's family name.                                                                                                                                                                                                                                                                                                                                                                                 |
| Given name                                                            | 1..*        | UK Core Patient.name.given                                                                                          | The subject's given name(s).                                                                                                                                                                                                                                                                                                                                                                               |
| Date of birth                                                         | 1..1        | UK Core Patient.birthDate                                                                                           | This element will have the extension [birthTime](http://hl7.org/fhir/extension-patient-birthtime.html) to carry the time of birth.                                                                                                                                                                                                                                                                         |
| **Plan details - further information**                                | 1..3        |                                                                                                                     | Further information for each of the care plan types.                                                                                                                                                                                                                                                                                                                                                       |
| *For a Child Protection Plan*                                         |             |                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                            |
| Plan type                                                             | 1..1        | UK Core CarePlan.category                                                                                           | This element will carry the code value <code>CPPI</code> and the display value <code>Child Protection Plan Information</code>..                                                                                                                                                                                                                                                                            |
| Child Protection Plan start date                                      | 1..1        | UK Core CarePlan.period.start                                                                                       | The start date of the plan.                                                                                                                                                                                                                                                                                                                                                                                |
| Child Protection Plan end date                                        | 1..1        | UK Core CarePlan.period.end                                                                                         | The end date of the plan                                                                                                                                                                                                                                                                                                                                                                                   |
| *For a Looked After Plan*                                             |             |                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                            |
| Plan type                                                             | 1..1        | UK Core CarePlan.category                                                                                           | This element will carry the code value <code>LACI</code> and the display value <code>Looked After Child Information</code>.                                                                                                                                                                                                                                                                                |
| Looked After Plan start date                                          | 1..1        | UK Core CarePlan.period.start                                                                                       | The start date of the plan.                                                                                                                                                                                                                                                                                                                                                                                |
| Looked After Plan end date                                            | 1..1        | UK Core CarePlan.period.end                                                                                         | The end date of the plan.                                                                                                                                                                                                                                                                                                                                                                                  |
| *For an Unborn Child Plan*                                            |             |                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                            |
| Plan type                                                             | 1..1        | UK Core CarePlan.category                                                                                           | This element will carry the code value <code>UCPI</code> and the display value <code>Unborn Child Plan Information</code>.                                                                                                                                                                                                                                                                                 |
| Looked After Plan start date                                          | 1..1        | UK Core CarePlan.period.start                                                                                       | The start date of the plan.                                                                                                                                                                                                                                                                                                                                                                                |
| Looked After Plan end date                                            | 1..1        | UK Core CarePlan.period.end                                                                                         | The end date of the plan.                                                                                                                                                                                                                                                                                                                                                                                  |
