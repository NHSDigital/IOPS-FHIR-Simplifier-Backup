## {{page-title}}

The following diagram illustrates how a message can flow between the sending (originating) system and the receiving care provider via MESH to fulfil this use case:

<div style="max-width:100%;max-height:100%;display:block;margin: 0 auto;">
	<!--?xml version="1.0" encoding="UTF-8"?-->
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="-0.5 -0.5 1442 809" content="<mxfile host=&quot;Electron&quot; modified=&quot;2021-03-19T09:15:02.062Z&quot; agent=&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/13.7.9 Chrome/85.0.4183.121 Electron/10.1.3 Safari/537.36&quot; version=&quot;13.7.9&quot; etag=&quot;UoE-Cgr6Mew1MyYVc2VN&quot; type=&quot;device&quot;><diagram id=&quot;HhH6b7qYiw8mr4nFa5ax&quot;>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</diagram></mxfile>" style="background-color: rgb(255, 255, 255);"><defs></defs><g><rect x="1271" y="4" width="170" height="40" rx="6" ry="6" fill="#bac8d3" stroke="#23445d" stroke-width="2" pointer-events="all"></rect><path d="M 1356 44 L 1356 805" fill="none" stroke="#23445d" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6 6" pointer-events="all"></path><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 22px; margin-left: 1272px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 19px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b style="font-size: 19px"><font style="font-size: 19px">Registered GP Practice</font></b></div></div></div></foreignObject><text x="1356" y="28" fill="#000000" font-family="Calibri" font-size="19px" text-anchor="middle">Registered GP Prac...</text></switch></g><rect x="1271" y="698" width="170" height="110" rx="16.5" ry="16.5" fill="#bac8d3" stroke="#23445d" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 705px; margin-left: 1272px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">ITK3 FHIR Message</div></div></div></foreignObject><text x="1356" y="723" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">ITK3 FHIR Message</text></switch></g><rect x="1" y="4" width="160" height="40" rx="6" ry="6" fill="#c3abd0" stroke="#b5739d" stroke-width="2" pointer-events="all"></rect><path d="M 81 44 L 81 805" fill="none" stroke="#b5739d" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6 6" pointer-events="all"></path><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 22px; margin-left: 2px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 19px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b style="font-size: 19px"><font style="font-size: 19px">Sending Organisation</font></b></div></div></div></foreignObject><text x="81" y="28" fill="#000000" font-family="Calibri" font-size="19px" text-anchor="middle">Sending Organisat...</text></switch></g><path d="M 336.5 235 L 441 235 Q 451 235 461 235 L 556.53 235" fill="none" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 566.53 235 L 556.53 240 L 556.53 230 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 216px; margin-left: 457px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; background-color: #dae8fc; white-space: nowrap; "><span style="background-color: rgb(255 , 255 , 255)">&nbsp;MESH - Message Send&nbsp;</span></div></div></div></foreignObject><text x="457" y="221" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">&nbsp;MESH - Message Send&nbsp;</text></switch></g><rect x="272" y="4" width="127" height="40" rx="6" ry="6" fill="#dae8fc" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><path d="M 335.5 44 L 335.5 805" fill="none" stroke="#6c8ebf" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6 6" pointer-events="all"></path><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 125px; height: 1px; padding-top: 22px; margin-left: 273px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 19px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b style="font-size: 19px"><font style="font-size: 19px">MESH API</font></b></div></div></div></foreignObject><text x="336" y="28" fill="#000000" font-family="Calibri" font-size="19px" text-anchor="middle">MESH API</text></switch></g><rect x="517" y="4" width="129" height="40" rx="6" ry="6" fill="#005eb8" stroke="#314354" stroke-width="2" pointer-events="all"></rect><path d="M 581.5 44 L 581.5 805" fill="none" stroke="#314354" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6 6" pointer-events="all"></path><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 127px; height: 1px; padding-top: 22px; margin-left: 518px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 19px; font-family: Calibri; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b style="font-size: 19px"><font style="font-size: 19px">MESH Server</font></b></div></div></div></foreignObject><text x="582" y="28" fill="#ffffff" font-family="Calibri" font-size="19px" text-anchor="middle">MESH Server</text></switch></g><rect x="755" y="4" width="142" height="40" rx="6" ry="6" fill="#dae8fc" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><path d="M 826 44 L 826 805" fill="none" stroke="#6c8ebf" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6 6" pointer-events="all"></path><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 140px; height: 1px; padding-top: 22px; margin-left: 756px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 19px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b style="font-size: 19px">MESH API</b></div></div></div></foreignObject><text x="826" y="28" fill="#000000" font-family="Calibri" font-size="19px" text-anchor="middle">MESH API</text></switch></g><rect x="1001" y="4" width="170" height="40" rx="6" ry="6" fill="#d5e8d4" stroke="#82b366" stroke-width="2" pointer-events="all"></rect><path d="M 1086 44 L 1086 805" fill="none" stroke="#82b366" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6 6" pointer-events="all"></path><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 22px; margin-left: 1002px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 19px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b style="font-size: 19px"><font style="font-size: 19px">Receiving Care Provider</font></b></div></div></div></foreignObject><text x="1086" y="28" fill="#000000" font-family="Calibri" font-size="19px" text-anchor="middle">Receiving Care Pro...</text></switch></g><path d="M 161 235 L 251 235 Q 261 235 271 235 L 316.53 235" fill="none" stroke="#b5739d" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 326.53 235 L 316.53 240 L 316.53 230 Z" fill="#b5739d" stroke="#b5739d" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 216px; margin-left: 248px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; background-color: #C3ABD0; white-space: nowrap; "><span style="text-align: left ; font-size: 18px ; background-color: rgb(255 , 255 , 255)">Online Consultation</span></div></div></div></foreignObject><text x="248" y="221" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">Online Consultation</text></switch></g><rect x="1" y="165" width="160" height="210" rx="24" ry="24" fill="#c3abd0" stroke="#23445d" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 172px; margin-left: 2px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">ITK3 FHIR Message</div></div></div></foreignObject><text x="81" y="190" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">ITK3 FHIR Message</text></switch></g><rect x="11" y="195" width="140" height="20" rx="3" ry="3" fill="#fad9d5" stroke="#ae4132" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 205px; margin-left: 12px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font style="font-size: 18px">MessageHeader</font></div></div></div></foreignObject><text x="81" y="210" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">MessageHeader</text></switch></g><rect x="11" y="225" width="140" height="140" rx="21" ry="21" fill="#d0cee2" stroke="#56517e" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 232px; margin-left: 12px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b>Composition</b><br style="font-size: 18px"><font style="font-size: 18px"><span style="font-size: 18px">Attachments<br>Observations<br>Questionnaire-<br>Response<br>Location<br></span></font></div></div></div></foreignObject><text x="81" y="250" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">Composition...</text></switch></g><path d="M 825 235 L 701 235 Q 691 235 681 235 L 605.47 235" fill="none" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 595.47 235 L 605.47 230 L 605.47 240 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><rect x="604" y="204.5" width="220" height="20" rx="3" ry="3" fill="none" stroke="none" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 208px; margin-left: 606px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; background-color: #D4E1F5; white-space: nowrap; "><span style="font-size: 18px ; background-color: rgb(255 , 255 , 255)">&nbsp;MESH - Message Download&nbsp;</span></div></div></div></foreignObject><text x="606" y="226" fill="#000000" font-family="Calibri" font-size="18px">&nbsp;MESH - Message Download&nbsp;</text></switch></g><path d="M 826.17 235 L 931 235 Q 941 235 951 235 L 1066.53 235" fill="none" stroke="#82b366" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 1076.53 235 L 1066.53 240 L 1066.53 230 Z" fill="#82b366" stroke="#82b366" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 216px; margin-left: 957px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; background-color: #FFFFFF; white-space: nowrap; "><span style="font-size: 18px">&nbsp;Ingest into workflow&nbsp;</span></div></div></div></foreignObject><text x="957" y="221" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">&nbsp;Ingest into workflow&nbsp;</text></switch></g><rect x="1001" y="354" width="170" height="110" rx="16.5" ry="16.5" fill="#d5e8d4" stroke="#23445d" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 361px; margin-left: 1002px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">ITK3 FHIR Message</div></div></div></foreignObject><text x="1086" y="379" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">ITK3 FHIR Message</text></switch></g><rect x="1011" y="384" width="150" height="20" rx="3" ry="3" fill="#fad9d5" stroke="#ae4132" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 394px; margin-left: 1012px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font style="font-size: 18px">MessageHeader</font></div></div></div></foreignObject><text x="1086" y="399" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">MessageHeader</text></switch></g><rect x="1011" y="414" width="150" height="40" rx="6" ry="6" fill="#d0cee2" stroke="#56517e" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 421px; margin-left: 1012px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">OperationOutcome</div></div></div></foreignObject><text x="1086" y="439" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">OperationOutcome</text></switch></g><rect x="1001" y="473" width="170" height="110" rx="16.5" ry="16.5" fill="#d5e8d4" stroke="#23445d" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 480px; margin-left: 1002px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">ITK3 FHIR Message</div></div></div></foreignObject><text x="1086" y="498" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">ITK3 FHIR Message</text></switch></g><rect x="1011" y="503" width="150" height="20" rx="3" ry="3" fill="#fad9d5" stroke="#ae4132" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 513px; margin-left: 1012px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font style="font-size: 18px">MessageHeader</font></div></div></div></foreignObject><text x="1086" y="518" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">MessageHeader</text></switch></g><rect x="1011" y="533" width="150" height="40" rx="6" ry="6" fill="#d0cee2" stroke="#56517e" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 540px; margin-left: 1012px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">OperationOutcome</div></div></div></foreignObject><text x="1086" y="558" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">OperationOutcome</text></switch></g><path d="M 1001 409.5 L 845.55 409.47" fill="none" stroke="#82b366" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 835.55 409.47 L 845.55 404.47 L 845.55 414.47 Z" fill="#82b366" stroke="#82b366" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><path d="M 1001 528 L 845.47 528" fill="none" stroke="#82b366" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 835.47 528 L 845.47 523 L 845.47 533 Z" fill="#82b366" stroke="#82b366" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><path d="M 825.5 410 L 601 410 Q 591 410 598.24 410 L 605.47 410" fill="none" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 595.47 410 L 605.47 405 L 605.47 415 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><path d="M 826 528 L 605.47 528" fill="none" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 595.47 528 L 605.47 523 L 605.47 533 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><path d="M 336.67 410 L 441.5 410 Q 451.5 410 461.5 410 L 556.53 410" fill="none" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 566.53 410 L 556.53 415 L 556.53 405 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 391px; margin-left: 457px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; background-color: #FFFFFF; white-space: nowrap; ">&nbsp;MESH - Message Download&nbsp;</div></div></div></foreignObject><text x="457" y="396" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">&nbsp;MESH - Message Download&nbsp;</text></switch></g><path d="M 336.67 528 L 441.5 528 Q 451.5 528 461.5 528 L 556.53 528" fill="none" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 566.53 528 L 556.53 533 L 556.53 523 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 511px; margin-left: 457px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; background-color: #FFFFFF; white-space: nowrap; ">&nbsp;MESH - Message Download&nbsp;</div></div></div></foreignObject><text x="457" y="516" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">&nbsp;MESH - Message Download&nbsp;</text></switch></g><path d="M 336.5 410 L 106.47 410" fill="none" stroke="#b5739d" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 96.47 410 L 106.47 405 L 106.47 415 Z" fill="#b5739d" stroke="#b5739d" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><path d="M 336.5 528 L 106.74 528" fill="none" stroke="#b5739d" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 96.74 528 L 106.74 523 L 106.74 533 Z" fill="#b5739d" stroke="#b5739d" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 391px; margin-left: 707px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; background-color: #D4E1F5; white-space: nowrap; "><span style="font-size: 18px ; background-color: rgb(255 , 255 , 255)">&nbsp;MESH - Message Send&nbsp;</span></div></div></div></foreignObject><text x="707" y="396" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">&nbsp;MESH - Message Send&nbsp;</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 510px; margin-left: 707px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; background-color: #D4E1F5; white-space: nowrap; "><span style="font-size: 18px ; background-color: rgb(255 , 255 , 255)">&nbsp;MESH - Message Send&nbsp;</span></div></div></div></foreignObject><text x="707" y="515" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">&nbsp;MESH - Message Send&nbsp;</text></switch></g><rect x="119" y="379.5" width="220" height="20" rx="3" ry="3" fill="none" stroke="none" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 383px; margin-left: 121px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span style="font-size: 18px ; background-color: rgb(255 , 255 , 255)">&nbsp;Process acknowledgement&nbsp;</span></div></div></div></foreignObject><text x="121" y="401" fill="#000000" font-family="Calibri" font-size="18px">&nbsp;Process acknowledgement&nbsp;</text></switch></g><rect x="117" y="498" width="220" height="20" rx="3" ry="3" fill="none" stroke="none" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 501px; margin-left: 119px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span style="font-size: 18px ; background-color: rgb(255 , 255 , 255)">&nbsp;Process acknowledgement&nbsp;</span></div></div></div></foreignObject><text x="119" y="519" fill="#000000" font-family="Calibri" font-size="18px">&nbsp;Process acknowledgement&nbsp;</text></switch></g><rect x="822" y="363" width="180" height="90" rx="13.5" ry="13.5" fill="none" stroke="none" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 366px; margin-left: 912px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span style="background-color: rgb(255 , 255 , 255)">"Message received and<br style="font-size: 18px">&nbsp;validated"<br style="font-size: 18px"><br style="font-size: 18px"><span style="font-size: 18px">&nbsp;Infrastructure ack&nbsp;</span></span></div></div></div></foreignObject><text x="912" y="384" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">"Message received an...</text></switch></g><rect x="838" y="499" width="150" height="70" rx="10.5" ry="10.5" fill="none" stroke="none" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 502px; margin-left: 913px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span style="background-color: rgb(255 , 255 , 255)">"Patient accepted"<br style="font-size: 18px"><br style="font-size: 18px"><span style="font-size: 18px">&nbsp;Business ack&nbsp;</span></span></div></div></div></foreignObject><text x="913" y="520" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">"Patient accepted...</text></switch></g><path d="M 336.5 92 L 441 92 Q 451 92 461 92 L 556.53 92" fill="none" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 566.53 92 L 556.53 97 L 556.53 87 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 73px; margin-left: 457px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; background-color: #dae8fc; white-space: nowrap; ">&nbsp;MESH - Address Lookup request&nbsp;</div></div></div></foreignObject><text x="457" y="78" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">&nbsp;MESH - Address Lookup request&nbsp;</text></switch></g><path d="M 81 92 L 251 92 Q 261 92 271 92 L 316.53 92" fill="none" stroke="#b5739d" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 326.53 92 L 316.53 97 L 316.53 87 Z" fill="#b5739d" stroke="#b5739d" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 73px; margin-left: 200px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; background-color: #FFFFFF; white-space: nowrap; "><div style="text-align: left">Lookup MESH mailbox address</div></div></div></div></foreignObject><text x="200" y="78" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">Lookup MESH mailbox address</text></switch></g><path d="M 580.5 134 L 451 134 Q 441 134 431 134 L 95.47 134" fill="none" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 85.47 134 L 95.47 129 L 95.47 139 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><rect x="251" y="104" width="270" height="20" rx="3" ry="3" fill="none" stroke="none" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 107px; margin-left: 253px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; background-color: #FFFFFF; white-space: nowrap; "><span style="font-size: 18px">&nbsp;MESH - Address Lookup response&nbsp;</span></div></div></div></foreignObject><text x="253" y="125" fill="#000000" font-family="Calibri" font-size="18px">MESH - Address Lookup respons...</text></switch></g><rect x="1011" y="533" width="150" height="40" rx="6" ry="6" fill="#d0cee2" stroke="#56517e" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 540px; margin-left: 1012px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">OperationOutcome</div></div></div></foreignObject><text x="1086" y="558" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">OperationOutcome</text></switch></g><rect x="1011" y="503" width="150" height="20" rx="3" ry="3" fill="#fad9d5" stroke="#ae4132" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 513px; margin-left: 1012px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font style="font-size: 18px">MessageHeader</font></div></div></div></foreignObject><text x="1086" y="518" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">MessageHeader</text></switch></g><rect x="1271" y="579" width="170" height="110" rx="16.5" ry="16.5" fill="#bac8d3" stroke="#23445d" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 586px; margin-left: 1272px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">ITK3 FHIR Message</div></div></div></foreignObject><text x="1356" y="604" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">ITK3 FHIR Message</text></switch></g><rect x="1281" y="609" width="150" height="20" rx="3" ry="3" fill="#fad9d5" stroke="#ae4132" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 619px; margin-left: 1282px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font style="font-size: 18px">MessageHeader</font></div></div></div></foreignObject><text x="1356" y="624" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">MessageHeader</text></switch></g><rect x="1281" y="639" width="150" height="40" rx="6" ry="6" fill="#d0cee2" stroke="#56517e" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 646px; margin-left: 1282px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">OperationOutcome</div></div></div></foreignObject><text x="1356" y="664" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">OperationOutcome</text></switch></g><rect x="1281" y="758" width="150" height="40" rx="6" ry="6" fill="#d0cee2" stroke="#56517e" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 765px; margin-left: 1282px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">OperationOutcome</div></div></div></foreignObject><text x="1356" y="783" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">OperationOutcome</text></switch></g><rect x="1281" y="728" width="150" height="20" rx="3" ry="3" fill="#fad9d5" stroke="#ae4132" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 738px; margin-left: 1282px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font style="font-size: 18px">MessageHeader</font></div></div></div></foreignObject><text x="1356" y="743" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">MessageHeader</text></switch></g><path d="M 336.5 301.5 L 441 301.5 Q 451 301.5 461 301.5 L 556.53 301.5" fill="none" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 566.53 301.5 L 556.53 306.5 L 556.53 296.5 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 283px; margin-left: 457px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; background-color: #FFFFFF; white-space: nowrap; ">&nbsp;MESH - Message Send&nbsp;</div></div></div></foreignObject><text x="457" y="288" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">&nbsp;MESH - Message Send&nbsp;</text></switch></g><path d="M 161 301.5 L 251 301.5 Q 261 301.5 271 301.5 L 316.53 301.5" fill="none" stroke="#b5739d" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 326.53 301.5 L 316.53 306.5 L 316.53 296.5 Z" fill="#b5739d" stroke="#b5739d" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 272px; margin-left: 248px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; background-color: #FFFFFF; white-space: nowrap; "><span style="text-align: left"><span>Online Consultation<br><font style="font-size: 16px">Copy message</font></span><br></span></div></div></div></foreignObject><text x="248" y="277" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">Online Consultation...</text></switch></g><path d="M 825 301.5 L 701 301.5 Q 691 301.5 681 301.5 L 605.47 301.5" fill="none" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 595.47 301.5 L 605.47 296.5 L 605.47 306.5 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><rect x="604" y="271" width="220" height="20" rx="3" ry="3" fill="none" stroke="none" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 274px; margin-left: 606px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; background-color: #D4E1F5; white-space: nowrap; "><span style="font-size: 18px ; background-color: rgb(255 , 255 , 255)">&nbsp;MESH - Message Download&nbsp;</span></div></div></div></foreignObject><text x="606" y="292" fill="#000000" font-family="Calibri" font-size="18px">&nbsp;MESH - Message Download&nbsp;</text></switch></g><path d="M 826.17 301.5 L 931 301.5 Q 941 301.5 951 301.5 L 1340.53 301.5" fill="none" stroke="#23445d" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 1350.53 301.5 L 1340.53 306.5 L 1340.53 296.5 Z" fill="#23445d" stroke="#23445d" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 282px; margin-left: 1221px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; background-color: #BAC8D3; white-space: nowrap; "><span style="font-size: 18px ; background-color: rgb(255 , 255 , 255)">&nbsp;Ingest into workflow&nbsp;</span></div></div></div></foreignObject><text x="1221" y="287" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">&nbsp;Ingest into workflow&nbsp;</text></switch></g><path d="M 1271 638.51 L 845.55 638.47" fill="none" stroke="#23445d" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 835.55 638.47 L 845.55 633.47 L 845.55 643.47 Z" fill="#23445d" stroke="#23445d" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><path d="M 1270.49 758.72 L 845.47 757.06" fill="none" stroke="#23445d" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 835.47 757.02 L 845.49 752.06 L 845.45 762.06 Z" fill="#23445d" stroke="#23445d" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><path d="M 825.5 639 L 601 639 Q 591 639 598.24 639 L 605.47 639" fill="none" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 595.47 639 L 605.47 634 L 605.47 644 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><path d="M 826 757 L 605.47 757" fill="none" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 595.47 757 L 605.47 752 L 605.47 762 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><path d="M 336.67 639 L 441.5 639 Q 451.5 639 461.5 639 L 556.53 639" fill="none" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 566.53 639 L 556.53 644 L 556.53 634 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 620px; margin-left: 457px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; background-color: #FFFFFF; white-space: nowrap; ">&nbsp;MESH - Message Download&nbsp;</div></div></div></foreignObject><text x="457" y="625" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">&nbsp;MESH - Message Download&nbsp;</text></switch></g><path d="M 336.67 757 L 441.5 757 Q 451.5 757 461.5 757 L 556.53 757" fill="none" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 566.53 757 L 556.53 762 L 556.53 752 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 740px; margin-left: 457px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; background-color: #dae8fc; white-space: nowrap; "><span style="background-color: rgb(255 , 255 , 255)">&nbsp;MESH - Message Download&nbsp;</span></div></div></div></foreignObject><text x="457" y="745" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">&nbsp;MESH - Message Download&nbsp;</text></switch></g><path d="M 336.5 639 L 106.47 639" fill="none" stroke="#b5739d" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 96.47 639 L 106.47 634 L 106.47 644 Z" fill="#b5739d" stroke="#b5739d" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><path d="M 336.5 757 L 106.74 757" fill="none" stroke="#b5739d" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 96.74 757 L 106.74 752 L 106.74 762 Z" fill="#b5739d" stroke="#b5739d" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 620px; margin-left: 707px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; background-color: #D4E1F5; white-space: nowrap; "><span style="font-size: 18px ; background-color: rgb(255 , 255 , 255)">&nbsp;MESH - Message Send&nbsp;</span></div></div></div></foreignObject><text x="707" y="625" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">&nbsp;MESH - Message Send&nbsp;</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 739px; margin-left: 707px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; background-color: #D4E1F5; white-space: nowrap; "><span style="font-size: 18px ; background-color: rgb(255 , 255 , 255)">&nbsp;MESH - Message Send&nbsp;</span></div></div></div></foreignObject><text x="707" y="744" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">&nbsp;MESH - Message Send&nbsp;</text></switch></g><rect x="119" y="608.5" width="220" height="20" rx="3" ry="3" fill="none" stroke="none" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 612px; margin-left: 121px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span style="font-size: 18px ; background-color: rgb(255 , 255 , 255)">&nbsp;Process acknowledgement&nbsp;</span></div></div></div></foreignObject><text x="121" y="630" fill="#000000" font-family="Calibri" font-size="18px">&nbsp;Process acknowledgement&nbsp;</text></switch></g><rect x="117" y="727" width="220" height="20" rx="3" ry="3" fill="none" stroke="none" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 730px; margin-left: 119px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span style="font-size: 18px ; background-color: rgb(255 , 255 , 255)">&nbsp;Process acknowledgement&nbsp;</span></div></div></div></foreignObject><text x="119" y="748" fill="#000000" font-family="Calibri" font-size="18px">&nbsp;Process acknowledgement&nbsp;</text></switch></g><rect x="1089" y="592" width="180" height="90" rx="13.5" ry="13.5" fill="none" stroke="none" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 595px; margin-left: 1179px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span style="background-color: rgb(255 , 255 , 255)">"Message received and<br style="font-size: 18px">&nbsp;validated"<br style="font-size: 18px"><br style="font-size: 18px"><span style="font-size: 18px">&nbsp;</span><span style="font-size: 18px">Infrastructure ack</span><span style="font-size: 18px">&nbsp;</span></span></div></div></div></foreignObject><text x="1179" y="613" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">"Message received an...</text></switch></g><rect x="1104" y="728" width="150" height="70" rx="10.5" ry="10.5" fill="none" stroke="none" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 731px; margin-left: 1179px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span style="background-color: rgb(255 , 255 , 255)">"Patient matched"<br style="font-size: 18px"><br style="font-size: 18px"><span style="font-size: 18px">&nbsp;Business ack&nbsp;</span></span></div></div></div></foreignObject><text x="1179" y="749" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">"Patient matched"...</text></switch></g><rect x="911" y="239" width="80" height="30" rx="4.5" ry="4.5" fill="none" stroke="none" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 254px; margin-left: 951px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 19px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><font style="font-size: 15px"><b>For Action</b></font></div></div></div></foreignObject><text x="951" y="260" fill="#000000" font-family="Calibri" font-size="19px" text-anchor="middle">For Acti...</text></switch></g><rect x="1156" y="304" width="110" height="30" rx="4.5" ry="4.5" fill="none" stroke="none" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 319px; margin-left: 1211px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 19px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><font style="font-size: 15px"><b>For Information</b></font></div></div></div></foreignObject><text x="1211" y="325" fill="#000000" font-family="Calibri" font-size="19px" text-anchor="middle">For Informat...</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"></g><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>
</div>

The diagram above depicts a successful message flow where the receiving care provider (in this example, a community pharmacy) validates the message successfully and consumes. This involves the following steps:

<ol>
  <li>
    <p><strong>MESH Address Lookup</strong></p>
    <ul>
      <li>After the online consultation is complete, the OC system initiates a MESH Address Lookup request for the receiving community pharmacy.</li>
      <li>The OC system receives a response containing the MESH mailbox ID for the requested community pharmacy.</li>
      <li>The OC system initiates a MESH Address Lookup request for the patients registered GP practice.</li>
      <li>The OC system receives a response containing the MESH mailbox ID for the patients registered GP practice.</li>
    </ul>
  </li>
  <li>
    <p><strong>Online Consultation Report message</strong></p>
    <ul>
      <li>A trigger at the OC system results in a FHIR Message being constructed labelled For Action, which includes a PDF describing the online consultation (as a minimum).</li>
      <li>The MESH API Send Message function is used to send the message to the mailbox acquired in step 1.b.</li>
      <li>The MESH server places the message in the community pharmacys MESH mailbox awaiting collection.</li>
      <li>The community pharmacy uses the MESH API Download Message function to retrieve the message from the MESH mailbox.</li>
      <li>The message is processed at the community pharmacy.</li>
    </ul>
  </li>
  <li>
    <p><strong>Infrastructure acknowledgement ITK Response</strong></p>
    <ul>
      <li>When the Online Consultation Report message is passed from MESH for processing at the community pharmacy, the message is first validated to ensure that its structure is correct. An ITK3 Response message is generated which indicates the success of message processing at a technical level - this is known as an infrastructure acknowledgement.</li>
      <li>The community pharmacy uses the MESH API Send Message function to send the acknowledgement message to the MESH server where it awaits collection by the OC system.</li>
      <li>The OC system uses the MESH API Download Message function to collect the acknowledgement message. The ITK Response is then available to the OC system components for onward processing.</li>
      <li>The acknowledgement message is processed as appropriate by the OC system.</li>
    </ul>
  </li>
  <li>
    <p><strong>Business acknowledgement ITK Response</strong></p>
    <ul>
      <li>When the Online Consultation Report message is passed from MESH for processing at the community pharmacy, after successful message validation, the subject of the message contents are landed in the workflow of the GP practice. An ITK3 Response message is generated which indicates the success of consuming the message - this is known as a business acknowledgement.</li>
      <li>The community pharmacy uses the MESH API Send Message function to send the acknowledgement message to the MESH server where it awaits collection by the OC system.</li>
      <li>The OC system uses the MESH API Download Message function to collect the acknowledgement message. The ITK Response is then available to the OC system components for onward processing.</li>
      <li>The acknowledgement message is processed as appropriate by the OC system.</li>
    </ul>
  </li>
  <li>
    <p><strong>Copy Online Consultation Report message</strong></p>
    <ul>
      <li>A trigger at the OC system results in a FHIR Message being constructed labelled For Information which includes a PDF describing the online consultation (as a minimum).</li>
      <li>The MESH API Send Message function is used to send the message to the mailbox acquired in step 1.d.</li>
      <li>The MESH server places the message in the GP practices MESH mailbox awaiting collection.</li>
      <li>The GP practice uses the MESH API Download Message function to retrieve the message from the MESH mailbox.</li>
      <li>The message is saved at the GP practice.</li>
    </ul>
  </li>
  <li>
    <p><strong>Infrastructure acknowledgement ITK Response</strong></p>
    <ul>
      <li>When the Online Consultation Report message is passed from MESH for processing at the GP practice, the message is first validated to ensure that its structure is correct. An ITK3 Response message is generated which indicates the success of message processing at a technical level - this is known as an infrastructure acknowledgement.</li>
      <li>The GP practice uses the MESH API Send Message function to send the acknowledgement message to the MESH server where it awaits collection by the OC system.</li>
      <li>The OC system uses the MESH API Download Message function to collect the acknowledgement message. The ITK Response is then available to the OC system components for onward processing.</li>
      <li>The acknowledgement message is processed as appropriate by the OC system.</li>
    </ul>
  </li>
  <li>
    <p><strong>Business acknowledgement ITK Response</strong></p>
    <ul>
      <li>When the Online Consultation Report message is passed from MESH for processing at the GP practice, after successful message validation, the subject of the message contents are landed in the workflow of the GP practice. An ITK3 Response message is generated which indicates the success of consuming the message - this is known as a business acknowledgement.</li>
      <li>The GP practice uses the MESH API Send Message function to send the acknowledgement message to the MESH server where it awaits collection by the OC system.</li>
      <li>The OC system uses the MESH API Download Message function to collect the acknowledgement message. The ITK Response is then available to the OC system components for onward processing.</li>
      <li>The acknowledgement message is processed as appropriate by the OC system.</li>
    </ol>
  </li>
</ol>

---