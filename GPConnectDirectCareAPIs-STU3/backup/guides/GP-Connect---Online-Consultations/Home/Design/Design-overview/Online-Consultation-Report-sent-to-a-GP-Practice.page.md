## {{page-title}}

The following diagram illustrates how a message can flow between the sending (originating) system and the receiving care provider via MESH to fulfil this use case:

<div style="max-width:100%;max-height:100%;display:block;margin: 0 auto;">
	<!--?xml version="1.0" encoding="UTF-8"?-->
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="-0.5 -0.5 1172 584" content="<mxfile host=&quot;Electron&quot; modified=&quot;2021-03-19T09:14:30.632Z&quot; agent=&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/13.7.9 Chrome/85.0.4183.121 Electron/10.1.3 Safari/537.36&quot; version=&quot;13.7.9&quot; etag=&quot;a1Gly91W9Fpc_H2OS8YC&quot; type=&quot;device&quot;><diagram id=&quot;_PzxAM2dlhrxZuWetUtd&quot;>7V1Zc6M6Gv01rpp5sItNLI9e4tup6a7OdG7VnXnEIDtUY+QLOMv8+pGwwCAkzOolcaq6A0Ib0vmOvkUoI3W+ff8jtHcvP5AL/ZEiue8jdTFSFAVYMv5FUj4OKSa5Iwmb0HMPSfIx4dn7H6SJEk3dey6MChljhPzY2xUTHRQE0IkLaXYYorditjXyi63u7A0sJTw7tl9O/ctz4xeaKuvW8cE36G1e4vT9jMODrZ1mpm8SvdguesslqQ8jdR4iFB+utu9z6JPBS8flUG4peJp1LIRBXKcAHfdX29/Tdxspuo+LzqKdHZAOxh/0rfW/96RXs5Xt/N6EaB+4Ywf5KBypU5wv3Kz+oQAwIu3N8f/M9T+P5fHVhv6mKT9gFJERx7VAB3qv0CXzFLhpV1YhtyNrFMTjKAEH6YFs7t65rdjbHb4IVhH5hd/Uc+2YNJHL2kczvdUhHPlWL/wYrEM7isO9E+9DMsZ4+tg8acsYJ4fGix0qJSuF7ikxfCfpL/HWxwkyvgwh7qa9SjJI+H6HvCBOhA7MRmCBU+x9jA6vkhTAs7IJ8LWDcQtDMk8wjD0scVP6IEa7w9A4XrD5k9wsxhodE0oQsknvl/bW8wm1zHG1q9AjBeMQ/c6EVcvegjQD34XCI2ciibkMoi2Mww+c5T0Va1qE0phmUvl/y5GCSSX9JccHFk2zKQ9tsqqPooovqLTyJVcVSu6qFnisKgiSzO1reYaBi2cJP/8ZbuzAi+zYQ0EOTYfqSyBbCRGGaXJHLvdb/7u3hr4XQIIqGHp43AheFj5Nfjqmzd5evBg+Y8iQom94KSqCFK8OsY2LhNm979u7yDvCFtPRPowwIf2CFKskFe1j0tI8W1ySrIQQoUurymhdEkOSRfjWc13ScgpynKSchLxVwjYps/Z8f37gZjx66lydzpKeHHLmnsyAoVqLjtJA0S+rUhn9Ogf9APQAf40DfwY0GIVTstjju5WPMOupM5y09PwUAPiOjqNeRIZgxphhdW1orh3esOqOCVdrDjuJaAi6JYXj5LCH0Mdy9VosxxtSWvSJcPCRvIAhFchL1UCxitgONzCmpY4Tg4fU/shlo9QubEcD/HaW7fLji0MP+KVVFUxA9XtFaB86sPReCeCy4a2FQXBR5amwgv94eP6GM4/xv6M2RXi49lLfx5p+ahHPKM63V9CfZWPBEyqRDDISJSQuqvvTDh817rxkaZXL+1iaSLpsFdA0lmn1HaVPLoJ8rEoTBqZovY5gV4Tq16skUMROnx6/kmKw8e0ook8ctPWcah2hzeJfXo3m5sNsWV6/FtMHcznvRxVWDKUAaK4ykFrBvSsDxjXCXHKyoT4mquvkRygOzzDE8/CVJKJH5DP4liTwMDN5EoGVAg10VXtTPUrWayDfGgj5ZhXyK4j2i+PHqIOfjB/FjNoDfgygncaPpgyEH6sH5sy78jqRJ6+iX3DjRRhjiU/wjyf831NoO1irhHeS7IMkZ9O5uVCHJklZkqTTKDeGchak2vYlvQV41VccZ1THJ3DKTXMBb0HmyGloVXMM9PO4HRRBh0X9OpG/6HZoYYmldmMTZwGxwcfUqCYk6cM16fFBu6wVDPgZJNSmSJhcor0fs47Yq3QBLJOfCsHq0wUgS6Mq4hpLE8awGfVi/puFSseyOYj5L5fDe49//kvFKctvj7/yviJm6ourz4l1r+DsFhm4/HhOZbSGXYtcztyLPN1d1iw6KVgzKy9RPH92trx0WqLE8ZzaOpQp0KHoLH+DtlthWw4OgZrizK6btmu5gAcKG2qyqvSloBTZX+LMvcab+z6mnhfLYIy4OdruUOTl6buPUHNRSW4Bt4GC2NM4tp2XLUyW+OPr0kVtFcHwNVnKOE//vYcReRTYXgjH5edY9d7hgrD85DtybHaATwTCLyVKjdj0hIC5kgMh13EIdCAbcBgBU2sKWJbYScJ4kZoz6/8Xjhbmxzm1xToqMaZS9Fy0tgmAdR6bQBe005uOLw63XEdAcIHeAh/Z7lmDgvyNPokt02ybD0fGxEbEQnuQl6CJtVCfy/RUWUtxJIOJZuV+StSW6Qm96w680Me5mQ1A02WdTzU9G4yT6QKeDVMBE1k//rTbPcAJ8JrnITVLa+boOJG/OwmKQxLNdELq5xiKIB+DDVYUSceDGBFpReHvtY+l5MY2TGQO3LN4S4xKYvwEOybkckTkJlwmDCdjqTFdsVuf50rpYWEsufm1lARPufnlPnwoKWLvPpQL+VAYGQUyZ/bBQJqQUnaw/9zBMLHof+5jPIjXJ7PXYZizs6bVnLU+LPNUXb3TbR90Czimx4B0e3dZXxXd6gpn9gej27LT+k63rWYN1Jy1Xuj2GhyhIncBHsHw4z9kZieSoqUJ/00SdEVOExbvdPIPdx/5u9xundwHL0N7IAbwrZap/fhhQ1NXhIlNJckouadyFWtGsebGrokOBhd3j/q1QPLz4EdPtxm2QE91RWcFyzW4Oz9jIIf5aAqoeju0sKGcUkU9eT1F7fTlxeRurL4DrbuvvR9SYqf/sqTE20T9tbDSERfkq01dGINpT0bGechIA5KAPys+cq0u0ZnAVLEvtOF+09uJNN/a3tMDcXzmaIrK2/V8p8beqLH9Amr0vYDWJbq0pfrUyJToTo3KnRqvnRrVai/aOalRGWZvvsrznp+ZGi/8TdIAFkb5/I/W2mN6SF1vymMXsFzBcTdfASyt11NLnii6oWmyqUsaCRf0vLp2wU6LY2ousSHr0xxhU9h6OviOrMp10pDViWGpsqRqmqkYoHhUAZB13r7V+gI0Zj5jG8iIaLGtum6c+dOC8LwfUVaCULesChDqpt4UdsUKxmAg2IlPlbkq3nwKkYOhOkpO9gzQm09WV/Lp1G3u8q9xmKcQqw3C8MwXuEDKVIFzbNtXb2ST9B1brbDFMFy6V+YsyBKf6HLGE52fsFqeoISceO28fJ3Tlmf7yAsyiaktJZ/mnOUexMdUGeNJKRMzd4OU0YP4aLywyd1h3eFc2dLpCAOdK4vbmUi5HzlfebfSo6Znzpbeub8zZzXuOTIiG2bquuGBjb4j9Hu/S6b3733y4RNLTTdquBQ3lXYyY7STZ8HcejwuPUfuC/sRu25hOcFubc/BGoom2XOtmtFko9KdA3Oa+IMC13vlKmm143Ln0YAzlqUcvLU9f4WInWanTHxKA0ze9MqcSdmxShfgZOUUJysFhN7U+VzaFYR1Pt8uQ2BYrD4GlHYszbI9W09fuqxWamdImu0pINTQn87VRbOzmG7Qm9ToPJKCWtuCKxscxc6aNimp5N1PvI8C+3A/aeJYTe1vAkGlyydNWCLi/Jk6zImWpePMTn00WMZQ/RWzMdrY43kFMOodExYTkFbTecphgveHqtTmkMC3xz9fd2Cn4x8BVB/+Dw==</diagram></mxfile>" style="background-color: rgb(255, 255, 255);"><defs></defs><g><rect x="822" y="363" width="180" height="90" fill="none" stroke="none" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 366px; margin-left: 912px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span style="background-color: rgb(255 , 255 , 255)">"Message received and<br style="font-size: 18px">&nbsp;validated"<br style="font-size: 18px"><br style="font-size: 18px"><span style="font-size: 18px">&nbsp;Infrastructure ack&nbsp;</span></span></div></div></div></foreignObject><text x="912" y="384" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">"Message received an...</text></switch></g><rect x="1" y="4" width="160" height="40" rx="6" ry="6" fill="#c3abd0" stroke="#b5739d" stroke-width="2" pointer-events="all"></rect><path d="M 81 44 L 81 554" fill="none" stroke="#b5739d" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6 6" pointer-events="all"></path><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 22px; margin-left: 2px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 19px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b style="font-size: 19px"><font style="font-size: 19px">Sending Organisation</font></b></div></div></div></foreignObject><text x="81" y="28" fill="#000000" font-family="Calibri" font-size="19px" text-anchor="middle">Sending Organisat...</text></switch></g><path d="M 336.5 219 L 441 219 Q 451 219 461 219 L 556.53 219" fill="none" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 566.53 219 L 556.53 224 L 556.53 214 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 200px; margin-left: 457px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; background-color: #dae8fc; white-space: nowrap; "><span style="background-color: rgb(255 , 255 , 255)">&nbsp;MESH - Message Send&nbsp;</span></div></div></div></foreignObject><text x="457" y="205" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">&nbsp;MESH - Message Send&nbsp;</text></switch></g><rect x="273" y="4" width="127" height="40" rx="6" ry="6" fill="#dae8fc" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><path d="M 336.5 44 L 336.5 554" fill="none" stroke="#6c8ebf" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6 6" pointer-events="all"></path><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 125px; height: 1px; padding-top: 22px; margin-left: 274px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 19px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b style="font-size: 19px"><font style="font-size: 19px">MESH API</font></b></div></div></div></foreignObject><text x="337" y="28" fill="#000000" font-family="Calibri" font-size="19px" text-anchor="middle">MESH API</text></switch></g><rect x="517" y="4" width="129" height="40" rx="6" ry="6" fill="#005eb8" stroke="#23445d" stroke-width="2" pointer-events="all"></rect><path d="M 581.5 44 L 581.5 554" fill="none" stroke="#23445d" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6 6" pointer-events="all"></path><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 127px; height: 1px; padding-top: 22px; margin-left: 518px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 19px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b style="font-size: 19px"><font style="font-size: 19px" color="#ffffff">MESH Server</font></b></div></div></div></foreignObject><text x="582" y="28" fill="#000000" font-family="Calibri" font-size="19px" text-anchor="middle">MESH Server</text></switch></g><rect x="755" y="4" width="142" height="40" rx="6" ry="6" fill="#dae8fc" stroke="#6c8ebf" stroke-width="2" pointer-events="all"></rect><path d="M 826 44 L 826 554" fill="none" stroke="#6c8ebf" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6 6" pointer-events="all"></path><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 140px; height: 1px; padding-top: 22px; margin-left: 756px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 17px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b>MESH API</b></div></div></div></foreignObject><text x="826" y="27" fill="#000000" font-family="Calibri" font-size="17px" text-anchor="middle">MESH API</text></switch></g><rect x="1001" y="4" width="170" height="40" rx="6" ry="6" fill="#bac8d3" stroke="#23445d" stroke-width="2" pointer-events="all"></rect><path d="M 1086 44 L 1086 554" fill="none" stroke="#23445d" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6 6" pointer-events="all"></path><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 22px; margin-left: 1002px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 19px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b style="font-size: 19px"><font style="font-size: 19px">Registered GP Practice</font></b></div></div></div></foreignObject><text x="1086" y="28" fill="#000000" font-family="Calibri" font-size="19px" text-anchor="middle">Registered GP Prac...</text></switch></g><path d="M 161 219 L 251 219 Q 261 219 271 219 L 316.53 219" fill="none" stroke="#b5739d" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 326.53 219 L 316.53 224 L 316.53 214 Z" fill="#b5739d" stroke="#b5739d" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 200px; margin-left: 248px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; background-color: #FFFFFF; white-space: nowrap; "><span style="text-align: left ; font-size: 18px">Online Consultation</span></div></div></div></foreignObject><text x="248" y="205" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">Online Consultation</text></switch></g><rect x="1" y="149" width="160" height="210" rx="24" ry="24" fill="#c3abd0" stroke="#23445d" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 156px; margin-left: 2px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">ITK3 FHIR Message</div></div></div></foreignObject><text x="81" y="174" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">ITK3 FHIR Message</text></switch></g><rect x="11" y="179" width="140" height="20" rx="3" ry="3" fill="#fad9d5" stroke="#ae4132" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 189px; margin-left: 12px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font style="font-size: 18px">MessageHeader</font></div></div></div></foreignObject><text x="81" y="194" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">MessageHeader</text></switch></g><rect x="11" y="209" width="140" height="140" rx="21" ry="21" fill="#d0cee2" stroke="#56517e" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 216px; margin-left: 12px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b>Composition<br style="font-size: 18px"></b><font style="font-size: 18px"><span style="font-size: 18px">Attachments<br>Observations<br>Questionnaire-<br>Response<br>Location<br></span></font></div></div></div></foreignObject><text x="81" y="234" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">Composition...</text></switch></g><path d="M 825 219 L 701 219 Q 691 219 681 219 L 605.47 219" fill="none" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 595.47 219 L 605.47 214 L 605.47 224 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><rect x="614" y="189.5" width="220" height="20" fill="none" stroke="none" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 193px; margin-left: 616px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; background-color: #D4E1F5; white-space: nowrap; "><span style="background-color: rgb(255 , 255 , 255)">&nbsp;MESH - Message Download&nbsp;</span></div></div></div></foreignObject><text x="616" y="211" fill="#000000" font-family="Calibri" font-size="18px">&nbsp;MESH - Message Download&nbsp;</text></switch></g><path d="M 826.17 219 L 931 219 Q 941 219 951 219 L 1066.53 219" fill="none" stroke="#23445d" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 1076.53 219 L 1066.53 224 L 1066.53 214 Z" fill="#23445d" stroke="#23445d" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 200px; margin-left: 957px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; background-color: #BAC8D3; white-space: nowrap; "><span style="font-size: 18px ; background-color: rgb(255 , 255 , 255)">&nbsp;Ingest into workflow&nbsp;</span></div></div></div></foreignObject><text x="957" y="205" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">&nbsp;Ingest into workflow&nbsp;</text></switch></g><rect x="1001" y="354" width="170" height="110" rx="16.5" ry="16.5" fill="#bac8d3" stroke="#23445d" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 361px; margin-left: 1002px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">ITK3 FHIR Message</div></div></div></foreignObject><text x="1086" y="379" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">ITK3 FHIR Message</text></switch></g><rect x="1011" y="384" width="150" height="20" rx="3" ry="3" fill="#fad9d5" stroke="#ae4132" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 394px; margin-left: 1012px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font style="font-size: 18px">MessageHeader</font></div></div></div></foreignObject><text x="1086" y="399" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">MessageHeader</text></switch></g><rect x="1011" y="414" width="150" height="40" rx="6" ry="6" fill="#d0cee2" stroke="#56517e" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 421px; margin-left: 1012px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">OperationOutcome</div></div></div></foreignObject><text x="1086" y="439" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">OperationOutcome</text></switch></g><rect x="1001" y="473" width="170" height="110" rx="16.5" ry="16.5" fill="#bac8d3" stroke="#23445d" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 480px; margin-left: 1002px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">ITK3 FHIR Message</div></div></div></foreignObject><text x="1086" y="498" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">ITK3 FHIR Message</text></switch></g><rect x="1011" y="503" width="150" height="20" rx="3" ry="3" fill="#fad9d5" stroke="#ae4132" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 513px; margin-left: 1012px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font style="font-size: 18px">MessageHeader</font></div></div></div></foreignObject><text x="1086" y="518" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">MessageHeader</text></switch></g><rect x="1011" y="533" width="150" height="40" rx="6" ry="6" fill="#d0cee2" stroke="#56517e" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 540px; margin-left: 1012px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">OperationOutcome</div></div></div></foreignObject><text x="1086" y="558" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">OperationOutcome</text></switch></g><path d="M 1001 409.5 L 845.55 409.47" fill="none" stroke="#23445d" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 835.55 409.47 L 845.55 404.47 L 845.55 414.47 Z" fill="#23445d" stroke="#23445d" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><path d="M 1001 528 L 845.47 528" fill="none" stroke="#23445d" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 835.47 528 L 845.47 523 L 845.47 533 Z" fill="#23445d" stroke="#23445d" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><path d="M 825.5 410 L 601 410 Q 591 410 598.24 410 L 605.47 410" fill="none" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 595.47 410 L 605.47 405 L 605.47 415 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><path d="M 826 528 L 605.47 528" fill="none" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 595.47 528 L 605.47 523 L 605.47 533 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><path d="M 336.67 410 L 441.5 410 Q 451.5 410 461.5 410 L 556.53 410" fill="none" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 566.53 410 L 556.53 415 L 556.53 405 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 391px; margin-left: 457px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; background-color: #FFFFFF; white-space: nowrap; "><span style="text-align: left">&nbsp;MESH - Message Download&nbsp;</span></div></div></div></foreignObject><text x="457" y="396" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">&nbsp;MESH - Message Download&nbsp;</text></switch></g><path d="M 336.67 528 L 441.5 528 Q 451.5 528 461.5 528 L 556.53 528" fill="none" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 566.53 528 L 556.53 533 L 556.53 523 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 511px; margin-left: 457px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; background-color: #FFFFFF; white-space: nowrap; "><span style="text-align: left">&nbsp;MESH - Message Download&nbsp;</span></div></div></div></foreignObject><text x="457" y="516" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">&nbsp;MESH - Message Download&nbsp;</text></switch></g><path d="M 336.5 410 L 106.47 410" fill="none" stroke="#b5739d" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 96.47 410 L 106.47 405 L 106.47 415 Z" fill="#b5739d" stroke="#b5739d" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><path d="M 336.5 528 L 106.74 528" fill="none" stroke="#b5739d" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 96.74 528 L 106.74 523 L 106.74 533 Z" fill="#b5739d" stroke="#b5739d" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 391px; margin-left: 707px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; background-color: #D4E1F5; white-space: nowrap; "><span style="font-size: 18px ; background-color: rgb(255 , 255 , 255)">&nbsp;MESH - Message Send&nbsp;</span></div></div></div></foreignObject><text x="707" y="396" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">&nbsp;MESH - Message Send&nbsp;</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 510px; margin-left: 707px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; background-color: #FFFFFF; white-space: nowrap; "><span style="font-size: 18px">&nbsp;MESH - Message Send&nbsp;</span></div></div></div></foreignObject><text x="707" y="515" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">&nbsp;MESH - Message Send&nbsp;</text></switch></g><rect x="119" y="379.5" width="220" height="20" fill="none" stroke="none" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 383px; margin-left: 121px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span style="font-size: 18px ; background-color: rgb(255 , 255 , 255)">&nbsp;Process acknowledgement&nbsp;</span></div></div></div></foreignObject><text x="121" y="401" fill="#000000" font-family="Calibri" font-size="18px">&nbsp;Process acknowledgement&nbsp;</text></switch></g><rect x="117" y="498" width="220" height="20" fill="none" stroke="none" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 501px; margin-left: 119px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span style="font-size: 18px ; background-color: rgb(255 , 255 , 255)">&nbsp;Process acknowledgement&nbsp;</span></div></div></div></foreignObject><text x="119" y="519" fill="#000000" font-family="Calibri" font-size="18px">&nbsp;Process acknowledgement&nbsp;</text></switch></g><rect x="838" y="499" width="150" height="70" fill="none" stroke="none" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 502px; margin-left: 913px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span style="background-color: rgb(255 , 255 , 255)">"Patient matched"<br style="font-size: 18px"><br style="font-size: 18px"><span style="font-size: 18px">&nbsp;Business ack&nbsp;</span></span></div></div></div></foreignObject><text x="913" y="520" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">"Patient matched"...</text></switch></g><path d="M 336.5 84 L 441 84 Q 451 84 461 84 L 556.53 84" fill="none" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 566.53 84 L 556.53 89 L 556.53 79 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 65px; margin-left: 457px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; background-color: #FFFFFF; white-space: nowrap; ">&nbsp;MESH - Address Lookup request&nbsp;</div></div></div></foreignObject><text x="457" y="70" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">&nbsp;MESH - Address Lookup request&nbsp;</text></switch></g><path d="M 81 84 L 251 84 Q 261 84 271 84 L 316.53 84" fill="none" stroke="#b5739d" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 326.53 84 L 316.53 89 L 316.53 79 Z" fill="#b5739d" stroke="#b5739d" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 65px; margin-left: 200px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; background-color: #C3ABD0; white-space: nowrap; "><div style="text-align: left"><span style="background-color: rgb(255 , 255 , 255)">Lookup MESH mailbox address</span></div></div></div></div></foreignObject><text x="200" y="70" fill="#000000" font-family="Calibri" font-size="18px" text-anchor="middle">Lookup MESH mailbox address</text></switch></g><path d="M 580.5 126 L 451 126 Q 441 126 431 126 L 95.47 126" fill="none" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 85.47 126 L 95.47 121 L 95.47 131 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-width="4" stroke-miterlimit="10" pointer-events="all"></path><rect x="251" y="96" width="270" height="20" rx="3" ry="3" fill="none" stroke="none" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 99px; margin-left: 253px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 18px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; background-color: #FFFFFF; white-space: nowrap; "><span style="font-size: 18px">&nbsp;MESH - Address Lookup response&nbsp;</span></div></div></div></foreignObject><text x="253" y="117" fill="#000000" font-family="Calibri" font-size="18px">MESH - Address Lookup respons...</text></switch></g><rect x="918" y="220" width="80" height="30" rx="4.5" ry="4.5" fill="none" stroke="none" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 235px; margin-left: 958px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 19px; font-family: Calibri; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><font style="font-size: 15px"><b>For Action</b></font></div></div></div></foreignObject><text x="958" y="241" fill="#000000" font-family="Calibri" font-size="19px" text-anchor="middle">For Acti...</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"></g><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>
</div>

The diagram above depicts a successful message flow where the receiving care provider (in this example, a GP) validates the message successfully and consumes. This involves the following steps:

<ol>
  <li>
    <p><strong>MESH Address Lookup</strong></p>
    <ul>
      <li>After the online consultation is complete, the OC system initiates a MESH Address Lookup request for the patient’s registered GP practice.</li>
      <li>The OC system receives a response containing the MESH mailbox ID for the patient’s registered GP practice.</li>
    </ul>
  </li>
  <li>
    <p><strong>Online Consultation Report message</strong></p>
    <ul>
      <li>A trigger at the OC system results in a FHIR Message being constructed which includes a PDF describing the online consultation (as a minimum).</li>
      <li>The MESH API Send Message function is used to send the message to the mailbox acquired in step 1.</li>
      <li>The MESH server places the message in the GP practice’s MESH mailbox awaiting collection.</li>
      <li>The GP practice uses the MESH API Download Message function to retrieve the message from the MESH mailbox.</li>
      <li>The message is processed at the GP practice.</li>
    </ul>
  </li>
  <li>
    <p><strong>Infrastructure acknowledgement ITK Response</strong></p>
    <ul>
      <li>When the Online Consultation Report message is passed from MESH for processing at the GP practice, the message is first validated to ensure that its structure is correct. An ITK3 Response message is generated which indicates the success of message processing at a technical level - this is known as an “infrastructure acknowledgement”.</li>
      <li>The GP practice uses the MESH API Send Message function to send the acknowledgement message to the MESH server where it awaits collection by the OC system.</li>
      <li>The OC system uses the MESH API Download Message function to collect the acknowledgement message. The ITK Response is then available to the OC system components for onward processing.</li>
      <li>The acknowledgement message is processed as appropriate by the OC system.</li>
    </ul>
  </li>
  <li>
    <p><strong>Business acknowledgement ITK Response</strong></p>
    <ul>
      <li>When the Online Consultation Report message is passed from MESH for processing at the GP practice, after successful message validation, the subject of the message contents are landed in the workflow of the GP practice. An ITK3 Response message is generated which indicates the success of consuming the message - this is known as a “business acknowledgement”.</li>
      <li>The GP practice uses the MESH API Send Message function to send the acknowledgement message to the MESH server where it awaits collection by the OC system.</li>
      <li>The OC system uses the MESH API Download Message function to collect the acknowledgement message. The ITK Response is then available to the OC system components for onward processing.</li>
      <li>The acknowledgement message is processed as appropriate by the OC system.</li>
    </ul>
  </li>
</ol>

---